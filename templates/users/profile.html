{% extends 'base.html' %}

{% block content %}
<div class="auth-form profile-container">
    <h2 class="auth-form__title">Профиль пользователя</h2>
    
    <div class="profile-avatar-container">
        {% if user.avatar %}
            <img src="{{ user.avatar.url }}" alt="Avatar" class="profile-avatar">
        {% else %}
            <div class="profile-avatar-placeholder">
                <span>Нет фото</span>
            </div>
        {% endif %}
    </div>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                {{ field.errors }}
                <input type="{{ field.field.widget.input_type|default:'text' }}" name="{{ field.name }}" id="{{ field.id_for_label }}" class="form-control" 
                       value="{{ field.value|default:'' }}"
                       {% if field.field.required %}required{% endif %}>
                {% if field.help_text %}
                    <div class="form-help">{{ field.help_text|safe }}</div>
                {% endif %}
            </div>
        {% endfor %}
        <div class="form-actions">
            <button type="submit" class="btn btn--primary">Сохранить изменения</button>
        </div>
    </form>
    
    <hr class="profile-divider">
    
    <div class="profile-actions">
        <a href="{% url 'password_change' %}" class="btn btn--outline">Сменить пароль</a>
    </div>
</div>
{% endblock %}
